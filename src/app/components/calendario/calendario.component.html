<div class="container mx-auto p-4">
  <div class="flex justify-between items-center mb-6">
    <h2 class="text-4xl font-bold text-blue-600">Reserva Material - Septiembre 2023</h2>
    <button (click)="mostrarModal = true" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition duration-200">
      Ver Reservas
    </button>
  </div>

  <div class="overflow-x-auto shadow-lg rounded-lg border border-gray-200">
    <table class="table-auto w-full text-center border-collapse">
      <thead>
        <tr>
          <th class="p-4 border-b-2 border-gray-200 bg-gradient-to-r from-blue-300 to-blue-500 text-white font-bold">
            Fecha
          </th>
          <th *ngFor="let hora of horarios" class="p-4 border-b-2 border-gray-200 bg-gray-400 hover:bg-gray-600 text-white font-bold">
            {{ hora }}
          </th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let dia of fechasDeSeptiembre">
          <td 
            (click)="seleccionarDia(dia, horariosComponent)" 
            class="cursor-pointer p-4 border border-gray-200 bg-gray-400 text-white font-bold hover:bg-gray-600 transition duration-200 ease-in-out transform hover:scale-105">
            {{ dia.fecha }}
          </td>

          <td *ngFor="let horario of dia.horarios" 
              [ngClass]="horario.disponible ? 'bg-green-400 hover:bg-green-500' : 'bg-red-400 hover:bg-red-500'"
              class="p-4 border border-gray-300 transition duration-200 ease-in-out transform hover:scale-105">
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="mt-6">
    <app-horarios 
      [diaSeleccionado]="diaSeleccionado" 
      [horariosDelDia]="horariosDelDiaSeleccionado"
      #horariosComponent>
    </app-horarios>
  </div>
</div>

@if(mostrarModal){
  <div class="fixed inset-0 flex items-center justify-center z-50">
    <div class="bg-white rounded-lg shadow-lg p-6 overflow-auto h-auto max-h-[500px]"> 
      <div class="p-6 bg-white rounded-lg shadow-md">
        <h2 class="text-xl font-semibold text-center mb-4">Historial de Reservas</h2>
        <ng-container *ngIf="reservasAnteriores.length > 0; else noReservas">
          <ul class="divide-y divide-gray-600">
            <li *ngFor="let reserva of reservasAnteriores" class="py-4">
              <p><strong>Nombre:</strong> {{ reserva.nombre }}</p>
              <p><strong>Correo Electrónico:</strong> {{ reserva.correo }}</p>
              <p><strong>Teléfono:</strong> {{ reserva.telefono }}</p>
              <p><strong>Fecha:</strong> {{ reserva.dia }}</p>
              <p><strong>Horario:</strong> {{ reserva.horario }}</p>
            </li>
          </ul>
        </ng-container>
        <ng-template #noReservas>
          <p class="text-center text-gray-500">No tienes reservas anteriores.</p>
        </ng-template>
      </div>
      <button (click)="mostrarModal = false" class="mt-4 bg-red-500 text-white px-4 py-2 rounded">Cerrar</button>
    </div>    
  </div>
}
@if(mostrarModal){
  <div class="fixed inset-0 bg-black opacity-50"></div>
}

